<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Directorio de Recursos Personales</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet" />
</head>
<body>
    <!-- App Bar -->
    <header class="app-bar">
        <div class="container">
            <div class="app-bar__inner">
                <div class="app-bar__title-group">
                    <div class="app-bar__icon-wrapper">
                        <span class="material-symbols-outlined">bookmarks</span>
                    </div>
                    <div>
                        <h1 class="app-bar__title">Directorio de Recursos</h1>
                        <p class="app-bar__subtitle">Organiza tus enlaces importantes de forma visual y eficiente.</p>
                    </div>
                </div>
                <div class="app-bar__actions">
                    <input id="importFile" type="file" accept=".html,.htm" class="hidden" />
                    <button id="importBtn" class="btn btn--text">
                        <span class="material-symbols-outlined">upload_file</span> Importar
                    </button>
                    <button id="addResourceBtn" class="btn btn--filled">
                        <span class="material-symbols-outlined">add</span> Agregar Recurso
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Search and Filters -->
        <div class="filters-bar">
            <div class="search-wrapper">
                <span class="material-symbols-outlined search-icon">search</span>
                <input type="text" id="searchInput" placeholder="Buscar recursos..." class="input-field">
            </div>
            <div class="category-filter-wrapper">
                <select id="categoryFilter" class="input-field">
                    <option value="">Todas las categorías</option>
                </select>
            </div>
        </div>

        <!-- Bulk Actions Bar (Elemento añadido que era necesario para el JS) -->
        <div id="bulkActions" class="bulk-actions-bar hidden">
            <div class="selection-controls">
                <input type="checkbox" id="selectAllCheckbox" class="checkbox-field">
                <label for="selectAllCheckbox">Seleccionar todo</label>
                <span id="selectionCount" class="selection-count">0</span>
            </div>
            <div class="actions">
                <button id="bulkChangeCategoryBtn" class="btn btn--secondary">Cambiar Categoría</button>
                <button id="bulkDeleteBtn" class="btn btn--danger">Eliminar</button>
            </div>
        </div>

        <!-- Category Tabs -->
        <div id="categoryTabs" class="category-tabs">
            <!-- Tabs se inyectan aquí -->
        </div>

        <!-- Resources Grid -->
        <div id="resourcesContainer" class="resources-grid">
            <!-- Tarjetas de recursos se inyectan aquí -->
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state hidden">
            <span class="material-symbols-outlined empty-state__icon">bookmark_add</span>
            <h3 class="empty-state__title">Tu directorio está vacío</h3>
            <p class="empty-state__text">Comienza importando tus marcadores o agregando tu primer recurso.</p>
            <button id="emptyStateAddBtn" class="btn btn--filled">
                <span class="material-symbols-outlined">add</span>
                Agregar Primer Recurso
            </button>
        </div>
    </main>

    <!-- Modal for Add/Edit Resource -->
    <div id="resourceModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal__header">
                <h2 id="modalTitle" class="modal__title">Agregar Nuevo Recurso</h2>
                <button id="closeModalBtn" class="btn btn--icon"><span class="material-symbols-outlined">close</span></button>
            </div>
            <form id="resourceForm" class="modal__body">
                <input type="hidden" id="editIndex">
                <div class="form-group">
                    <label for="resourceTitle" class="form-label">Título del Recurso *</label>
                    <input type="text" id="resourceTitle" required class="input-field" placeholder="Ej: ChatGPT, Gmail, etc.">
                </div>
                <div class="form-group">
                    <label for="resourceUrl" class="form-label">URL *</label>
                    <input type="url" id="resourceUrl" required class="input-field" placeholder="https://ejemplo.com">
                </div>
                <div class="form-group">
                    <label for="resourceEmail" class="form-label">Correo (opcional)</label>
                    <input type="email" id="resourceEmail" class="input-field" placeholder="tu-correo@ejemplo.com">
                </div>
                <div class="form-group">
                    <label for="resourceCategory" class="form-label">Categoría</label>
                    <select id="resourceCategory" class="input-field">
                        <!-- Opciones pobladas por JS -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="resourceNotes" class="form-label">Notas (opcional)</label>
                    <textarea id="resourceNotes" rows="3" class="input-field" placeholder="Descripción breve o notas sobre este recurso"></textarea>
                </div>
                <div class="form-group-inline">
                    <input type="checkbox" id="resourcePinned" class="checkbox-field">
                    <label for="resourcePinned">Anclar este recurso (aparecerá al inicio)</label>
                </div>
                <div class="modal__footer">
                    <button type="button" id="cancelBtn" class="btn btn--text">Cancelar</button>
                    <button type="submit" id="saveBtn" class="btn btn--filled">Guardar</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Bulk Category Change Modal (Elemento añadido necesario para el JS) -->
    <div id="bulkCategoryModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal__header">
                <h2 class="modal__title">Cambiar Categoría en Lote</h2>
                <button id="bulkCategoryCancelBtn" class="btn btn--icon"><span class="material-symbols-outlined">close</span></button>
            </div>
            <div class="modal__body">
                <p class="modal__text">Selecciona la nueva categoría para los recursos seleccionados.</p>
                <select id="bulkNewCategory" class="input-field">
                    <!-- Opciones pobladas por JS -->
                </select>
            </div>
            <div class="modal__footer">
                <button type="button" id="bulkCategoryOkBtn" class="btn btn--filled">Aplicar</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirmModal" class="modal-overlay hidden">
        <div class="modal modal--confirm">
            <div class="modal__body">
                <h3 id="confirmTitle" class="modal__title">Confirmar acción</h3>
                <p id="confirmMessage" class="modal__confirm-text">¿Estás seguro de que quieres realizar esta acción?</p>
                <div class="modal__footer">
                    <button id="confirmCancelBtn" class="btn btn--text">Cancelar</button>
                    <button id="confirmOkBtn" class="btn btn--danger">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
